<!DOCTYPE html>
<html lang="ko" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>비주얼 빌더</title>
    <script src="https://unpkg.com/htmx.org@1.9.12"></script>
    <link rel="stylesheet" href="dist/output.css" />
</head>
<body class="bg-base-100 text-base-content">
    <div class="flex h-screen">

        <!-- 왼쪽 사이드바: 컴포넌트 라이브러리 -->
        <div class="w-64 bg-base-200 border-r border-base-300 p-4 overflow-y-auto flex flex-col">
            <h2 class="text-lg font-bold mb-3 text-warning">컴포넌트</h2>
            <div id="component-library" hx-get="/api/components" hx-trigger="load" hx-swap="innerHTML">
                <div class="text-base-content/50 text-sm">불러오는 중...</div>
            </div>

            <div class="mt-auto pt-4 border-t border-base-300 space-y-2">
                <button onclick="newProject()" class="btn btn-sm btn-ghost w-full">새 프로젝트</button>
                <button onclick="saveProject()" class="btn btn-sm btn-ghost w-full">프로젝트 저장</button>
                <button onclick="loadProject()" class="btn btn-sm btn-ghost w-full">프로젝트 열기</button>
                <button onclick="exportHTML()" class="btn btn-sm btn-warning w-full">HTML 내보내기</button>
            </div>
        </div>

        <!-- 중앙: 캔버스 -->
        <div class="flex-1 flex flex-col">
            <div class="navbar bg-base-200 border-b border-base-300 px-4 min-h-8 py-0">
                <span id="project-name" class="text-sm text-base-content/50">프로젝트 없음</span>
                <span class="flex-1"></span>
                <span class="text-xs text-base-content/30" id="component-count">컴포넌트 0개</span>
            </div>
            <div id="canvas"
                 ondrop="onDrop(event)" ondragover="onDragOver(event)" ondragleave="onDragLeave(event)"
                 class="flex-1 overflow-y-auto p-6 bg-base-100 border-2 border-dashed border-base-300 m-4 rounded-lg transition">
                <div id="canvas-empty" class="flex items-center justify-center h-full text-base-content/50">
                    컴포넌트를 여기에 드래그하여 시작하세요
                </div>
            </div>
        </div>

        <!-- 오른쪽: 속성 패널 -->
        <div class="w-80 bg-base-200 border-l border-base-300 p-4 overflow-y-auto">
            <h2 class="text-lg font-bold mb-3 text-base-content/70">속성</h2>
            <div id="property-panel">
                <p class="text-sm text-base-content/50">컴포넌트를 선택하면 속성을 편집할 수 있습니다</p>
            </div>
        </div>
    </div>

    <script src="assets/js/builder.js"></script>
</body>
</html>
